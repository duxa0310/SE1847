(function () {
    'use strict';

    let socket;

    function main() {
        const username = localStorage.getItem('username');
        if (!username) {
            window.location.href = '/';
        }

        window.addEventListener("load", function () {
            socket = io();

            socket.on("connect", () => {
                console.log("Connected with ID:", socket.id);
                socket.emit('setUsername', username);
            });

            socket.on("disconnect", () => {
                console.log("Disconnected:", socket.id);
            });
        });
    }

    main();

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IHNvY2tldDtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICBjb25zdCB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpO1xyXG4gICAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc29ja2V0ID0gaW8oKTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHdpdGggSUQ6XCIsIHNvY2tldC5pZCk7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdzZXRVc2VybmFtZScsIHVzZXJuYW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGlzY29ubmVjdGVkOlwiLCBzb2NrZXQuaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbm1haW4oKTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBQUEsSUFBSSxNQUFNLENBQUM7QUFDWDtJQUNBLFNBQVMsSUFBSSxHQUFHO0lBQ2hCLElBQUksTUFBTSxRQUFRLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN0RCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDbkIsUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbkMsS0FBSztBQUNMO0lBQ0EsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLFlBQVk7SUFDaEQsUUFBUSxNQUFNLEdBQUcsRUFBRSxFQUFFLENBQUM7QUFDdEI7SUFDQSxRQUFRLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLE1BQU07SUFDbkMsWUFBWSxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN6RCxZQUFZLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2pELFNBQVMsQ0FBQyxDQUFDO0FBQ1g7SUFDQSxRQUFRLE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLE1BQU07SUFDdEMsWUFBWSxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDcEQsU0FBUyxDQUFDLENBQUM7SUFDWCxLQUFLLENBQUMsQ0FBQztJQUNQLENBQUM7QUFDRDtJQUNBLElBQUksRUFBRTs7Ozs7OyJ9
